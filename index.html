<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PsyTrading VIP Access</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&display=swap" rel="stylesheet">
<style>
  body {margin:0; font-family:'Montserrat',sans-serif; background:#f0f8ff; color:#1a1a1a;}
  header {text-align:center; padding:50px 20px; background:linear-gradient(90deg,#87ceeb,#ffa500);}
  header h1 {font-weight:800; font-size:2rem; color:#fff;}
  header p {color:#fff; margin-top:10px;}
  main {display:flex; flex-direction:column; align-items:center; padding:30px 20px;}
  .tier-container {display:flex; flex-wrap:wrap; justify-content:center; gap:20px; max-width:900px; width:100%;}
  .tier-card {background:#fff; border-radius:12px; box-shadow:0 4px 10px rgba(0,0,0,0.1); padding:20px; width:280px; text-align:center; transition:0.3s;}
  .tier-card:hover {transform:translateY(-5px); box-shadow:0 8px 20px rgba(0,0,0,0.2);}
  .tier-card h2 {margin:10px 0; font-weight:600; color:#333;}
  .tier-card p {margin:10px 0; color:#555;}
  .tier-card .price {font-size:1.2rem; font-weight:700; margin:15px 0; color:#000;}
  .tier-card button {margin:5px 0; padding:12px 20px; width:90%; border:none; border-radius:8px; font-weight:600; cursor:pointer; transition:0.3s;}
  .mpesa {background:#87ceeb; color:#000;}
  .crypto {background:#ffa500; color:#000;}
  .patreon {background:#ff4500; color:#fff;}
  .tier-card button:hover {opacity:0.9;}
  .input-group {margin-bottom:20px; text-align:center; width:100%; max-width:400px;}
  input[type="email"], input[type="file"] {width:100%; padding:12px; margin-top:10px; border-radius:8px; border:1px solid #ccc;}
  footer {text-align:center; padding:30px 20px; color:#555;}
  a {color:#1a1a1a; text-decoration:none;}
</style>
</head>
<body>

<header>
  <h1>PsyTrading <strong>VIP</strong> Access</h1>
  <p>Rejoignez la communauté exclusive pour recevoir vos signaux de trading.</p>
</header>

<main>

<div class="input-group">
  <label>Email</label>
  <input type="email" id="userEmail" placeholder="Votre email" required>
</div>

<div class="input-group">
  <label>Preuve de paiement (M-Pesa uniquement)</label>
  <input type="file" id="paymentProof" accept="image/*">
</div>

<div class="tier-container">

  <div class="tier-card">
    <h2>Loup</h2>
    <p>Accès VIP de base avec signaux réguliers.</p>
    <p class="price">39.99$ / mois</p>
    <button class="mpesa" onclick="notifyPayment('M-Pesa','Loup')">M-Pesa</button>
    <button class="crypto" onclick="notifyPayment('Crypto','Loup')">Crypto</button>
    <button class="patreon" onclick="notifyPayment('Patreon','Loup')">Patreon</button>
  </div>

  <div class="tier-card">
    <h2>Lougarou – Pro Trader</h2>
    <p>Inclut Loup + appels vidéo, analyses avancées.</p>
    <p class="price">89.99$ / mois</p>
    <button class="mpesa" onclick="notifyPayment('M-Pesa','Lougarou')">M-Pesa</button>
    <button class="crypto" onclick="notifyPayment('Crypto','Lougarou')">Crypto</button>
    <button class="patreon" onclick="notifyPayment('Patreon','Lougarou')">Patreon</button>
  </div>

</div>

</main>

<footer>
  <p>Contact Telegram : <a href="https://t.me/PsytradeFR" target="_blank">@PsytradeFR</a></p>
</footer>

<script>
const telegramBotToken = "8203696528:AAGVe6fz6Jyspjb3Kd945PCJrSTuoN2TAOw";
const chatId = "-1003177726331"; // PaymentHub private channel

const paymentLinks = {
  "Loup": {
    "Crypto":"https://nowpayments.io/payment/?iid=6119840292",
    "Patreon":"https://www.patreon.com/checkout/PsyTradeVIP?rid=26963056&vanity=14895200"
  },
  "Lougarou": {
    "Crypto":"https://nowpayments.io/payment/?iid=6116802738",
    "Patreon":"https://www.patreon.com/checkout/PsyTradeVIP?rid=26963065&vanity=14895200"
  }
};

function notifyPayment(method,tier){
  const email = document.getElementById('userEmail').value.trim();
  if(!email){ alert("Veuillez entrer votre email"); return; }

  const fileInput = document.getElementById('paymentProof');
  const file = fileInput.files[0];

  if(method === "Crypto" || method === "Patreon"){
    const url = paymentLinks[tier][method];
    alert(`Vous allez être redirigé vers le paiement ${method}`);
    window.open(url, "_blank");
  }

  if(file){
    const formData = new FormData();
    formData.append("chat_id", chatId);
    formData.append("caption", `Nouvelle preuve de paiement\nEmail: ${email}\nMéthode: ${method}\nPlan: ${tier}`);
    formData.append("photo", file);

    fetch(`https://api.telegram.org/bot${telegramBotToken}/sendPhoto`, {method:"POST", body:formData})
      .then(()=>alert("Votre preuve a été envoyée. Vous recevrez le lien d'invitation après vérification."))
      .catch(()=>alert("Erreur lors de l'envoi. Essayez de nouveau."));
  } else {
    fetch(`https://api.telegram.org/bot${telegramBotToken}/sendMessage`, {
      method: "POST",
      headers: {"Content-Type":"application/json"},
      body: JSON.stringify({
        chat_id: chatId,
        text: `Nouvelle demande de paiement\nEmail: ${email}\nMéthode: ${method}\nPlan: ${tier}`
      })
    })
    .then(()=>alert("Votre paiement a été signalé. Vous recevrez le lien d'invitation après vérification."))
    .catch(()=>alert("Erreur lors de l'envoi. Essayez de nouveau."));
  }
}
</script>

</body>
</html>
